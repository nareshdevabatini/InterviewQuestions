Types of Exceptions

SQL Server contains the following two types of exceptions:

System Defined
User Defined
System Defined Exception

In a System Defined Exception the exceptions (errors) are generated by the system.

Example

Declare @val1 int;  
Declare @val2 int;  
BEGIN TRY  
Set @val1=8;  
Set @val2=@val1/0; /* Error Occur Here */  
END TRY  
BEGIN CATCH  
Print 'Error Occur that is:'  
Print Error_Message()  
END CATCH

User Defined Exception

This type of exception is user generated, not system generated.

Declare @val1 int;  
Declare @val2 int;  
BEGIN TRY  
Set @val1=8;  
Set @val2=@val1%2;   
if @val1=1  
Print ' Error Not Occur'  
else  
Begin  
Print 'Error Occur';  
Throw 60000,'Number Is Even',5  
End  
  
END TRY  
BEGIN CATCH  
Print 'Error Occur that is:'  
Print Error_Message()  
END CATCH 

The following are system functions and the keyword used within a catch block:

@@ERROR
ERROR_NUMBER()
ERROR_STATE()
ERROR_LINE()
ERROR_MESSAGE()
ERROR_PROCEDURE()
ERROR_SEVERITY()
RAISERROR()
GOTO()

BEGIN TRY  
  
Update Employee set Salary=19000 Where Emp_IID=5  
END TRY  
BEGIN CATCH  
SELECT ERROR_MESSAGE() AS ErrorMsg;  
  
END CATCH;  
GO 
